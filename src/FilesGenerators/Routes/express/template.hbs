const express = require('express')
const router = express.Router()

const {{entity.Name}}Controller = require('../controllers/{{entity.importName}}.controller')
const { validate } = require('../validators/validator')
const {{entity.nameFirstLetterLowerCase}}Validator = require('../validators/{{entity.importName}}.validator')
const {{entity.nameFirstLetterLowerCase}}Controller = new {{entity.Name}}Controller()

{{#if methods.read}}
router.get('', {{entity.nameFirstLetterLowerCase}}Controller.paginate);
{{/if}}
{{#if methods.read}}
router.get('/:codigo', {{entity.nameFirstLetterLowerCase}}Controller.findOne);
{{/if}}
{{#if methods.create}}
router.post('', validate({{entity.nameFirstLetterLowerCase}}Validator.create), {{entity.nameFirstLetterLowerCase}}Controller.create)
{{/if}}
{{#if methods.update}}
router.patch('/:codigo', validate({{entity.nameFirstLetterLowerCase}}Validator.update), {{entity.nameFirstLetterLowerCase}}Controller.update)
{{/if}}
{{#if methods.delete}}
router.delete('/:codigo', {{entity.nameFirstLetterLowerCase}}Controller.destroy)
{{/if}}

module.exports = router